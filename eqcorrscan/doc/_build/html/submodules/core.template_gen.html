

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.2. template_gen &mdash; EQcorrscan 0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/EQcorrscan_logo.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="EQcorrscan 0.1.0 documentation" href="../index.html"/>
        <link rel="up" title="3. Core" href="../core.html"/>
        <link rel="next" title="3.3. match_filter" href="core.match_filter.html"/>
        <link rel="prev" title="3.1. bright_lights" href="core.bright_lights.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> EQcorrscan</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">1. Introduction to the EQcorrscan package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#why-eqcorrscan">1.1. Why EQcorrscan?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#installation">1.2. Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro.html#functions">1.3. Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">2. EQcorrscan tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/template-creation.html">2.1. Template creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/matched-filter.html">2.2. Matched-filter detection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/lag-calc.html">2.3. Lag time calculation and pick correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/mag-calc.html">2.4. Magnitude calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/clustering.html">2.5. Clustering and stacking</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../core.html">3. Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.bright_lights.html">3.1. bright_lights</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">3.2. template_gen</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.match_filter.html">3.3. match_filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.lag_calc.html">3.4. lag_calc</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">4. Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils.Sfile_util.html">4.1. Sfile_util</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.findpeaks.html">4.2. findpeaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.clustering.html">4.3. clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.pre_processing.html">4.4. pre_processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.EQcorrscan_plotting.html">4.5. EQcorrscan_plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.mag_calc.html">4.6. mag_calc</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.stacking.html">4.7. stacking</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.catalogue2DD.html">4.8. catalogue2DD</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">EQcorrscan</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../core.html">3. Core</a> &raquo;</li>
      
    <li>3.2. template_gen</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/submodules/core.template_gen.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="module-template_gen">
<span id="template-gen"></span><h1>3.2. template_gen<a class="headerlink" href="#module-template_gen" title="Permalink to this headline">¶</a></h1>
<p>Function to generate template waveforms and information to go with themfor the application of cross-correlation of seismic data for the detection of</p>
<blockquote>
<div>repeating events.</div></blockquote>
<p>Part of the EQcorrscan module to read nordic format s-filesEQcorrscan is a python module designed to run match filter routines forseismology, within it are routines for integration to seisan and obspy.With obspy integration (which is necessary) all main waveform formats can beread in and output.</p>
<p>This main section contains a script, LFE_search.py which demonstrates theusage of the built in functions from template generation from picked waveformsthrough detection by match filter of continuous data to the generation of lagtimes to be used for relative locations.</p>
<p>The match-filter routine described here was used a previous Matlab code forthe Chamberlain et al. 2014 G-cubed publication.  The basis for the lag-timegeneration section is outlined in Hardebeck &amp; Shelly 2011, GRL.</p>
<p>Code generated by Calum John Chamberlain of Victoria University of Wellington,2015.</p>
<p class="rubric">Note</p>
<dl class="docutils">
<dt>Pre-requisites:</dt>
<dd><ul class="first last">
<li><p class="first">gcc             - for the installation of the openCV correlation routine</p>
</li>
<li><p class="first">python-cv2      - Python bindings for the openCV routines</p>
</li>
<li><p class="first">python-joblib   - used for parallel processing</p>
</li>
<li><dl class="first docutils">
<dt>python-obspy    - used for lots of common seismological processing</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>requires:</dt>
<dd><ul class="first last simple">
<li>numpy</li>
<li>scipy</li>
<li>matplotlib</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">NonLinLoc       - used outside of all codes for travel-time generation</p>
</li>
</ul>
</dd>
</dl>
<p>Copyright 2015 Calum Chamberlain</p>
<p>This file is part of EQcorrscan.</p>
<blockquote>
<div><p>EQcorrscan is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>EQcorrscan is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with EQcorrscan.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
</div></blockquote>
<dl class="function">
<dt id="template_gen._template_gen">
<code class="descclassname">template_gen.</code><code class="descname">_template_gen</code><span class="sig-paren">(</span><em>picks</em>, <em>st</em>, <em>length</em>, <em>swin='all'</em>, <em>prepick=0.05</em>, <em>plot=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#_template_gen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen._template_gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate a cut template in the obspyStream class from a given set of picks and data, also in an obspy streamclass.  Should be given pre-processed data (downsampled and filtered)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>picks</strong> (<em>List of :class: obspy.core.event.Pick</em>) &#8211; Picks to extract data around</li>
<li><strong>st</strong> &#8211; Stream to etract templates from</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Length of template in seconds</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; P, S or all, defaults to all</li>
<li><strong>prepick</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Length in seconds to extract before the pick timedefault is 0.05 seconds</li>
<li><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; To plot the template or not, default is True</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="template_gen.extract_from_stack">
<code class="descclassname">template_gen.</code><code class="descname">extract_from_stack</code><span class="sig-paren">(</span><em>stack</em>, <em>template</em>, <em>length</em>, <em>pre_pick</em>, <em>pre_pad</em>, <em>Z_include=False</em>, <em>pre_processed=True</em>, <em>samp_rate=False</em>, <em>lowcut=False</em>, <em>highcut=False</em>, <em>filt_order=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#extract_from_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen.extract_from_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to extract a new template from a stack of previous detections.
Requires the stack, the template used to make the detections for the stack,
and we need to know if the stack has been pre-processed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>stack</strong> (<em>:class:obspy.Stream</em>) &#8211; Waveform stack from detections.  Can be of any length and</td>
</tr>
</tbody>
</table>
<p>can have delays already included, or not.
:type template: :class:obspy.Stream
:param template: Template used to make the detections in the stack. Willuse the delays of this for the new template.
:type length: float
:param length: Length of new template in seconds
:type pre_pick: float
:param pre_pick: Extract additional data before the detection, seconds
:type pre_pad: float
:param pre_pad: Pad used in seconds when extracting the data, e.g. thetime before the detection extracted.  If usingclustering.extract_detections this half the length of the extractedwaveform.
:type Z_include: bool
:param Z_include: If True will include any Z-channels even if there isno template for this channel, as long as there is a template for thisstation at a different channel.  If this is False and Z channels areincluded in the template Z channels will be included in the new_templateanyway.
:type pre_processed: bool
:param pre_processed: Have the data been pre-processed, if True (default)</p>
<blockquote>
<div>then we will only cut the data here.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If pre_processed=False then this is required, desiredsampling rate in Hz, defaults to False.</li>
<li><strong>lowcut</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If pre_processed=False then this is required, lowcut in Hz,defaults to False</li>
<li><strong>highcut</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; If pre_processed=False then this is required, highcut in</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Hz, defaults to False
:type filt_order: int
:param filt_order: If pre_processed=False then this is required, filter</p>
<blockquote>
<div>order, defaults to False</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">:class:obspy.Stream Newly cut template</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="template_gen.from_QuakeML">
<code class="descclassname">template_gen.</code><code class="descname">from_QuakeML</code><span class="sig-paren">(</span><em>quakeml</em>, <em>st</em>, <em>lowcut</em>, <em>highcut</em>, <em>samp_rate</em>, <em>filt_order</em>, <em>length</em>, <em>prepick</em>, <em>swin</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#from_QuakeML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen.from_QuakeML" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate a template from a local quakeml file
and an obspy.Stream object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>quakeml</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; QuakeML file containing pick information</li>
<li><strong>st</strong> (<em>class: obspy.Stream</em>) &#8211; Stream containing waveform data for template (hopefully)</li>
<li><strong>lowcut</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Low cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>lowcut</strong> &#8211; High cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; New sampling rate in Hz, if set to None will look intemplate defaults file</li>
<li><strong>filt_order</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Filter level, if set to None will look intemplate defaults file</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Extract length in seconds, if None will look in templatedefaults file.</li>
<li><strong>prepick</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Pre-pick time in seconds</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Either &#8216;all&#8217;, &#8216;P&#8217; or &#8216;S&#8217;, to select which phases to output.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Level of debugging output, higher=more</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="template_gen.from_SeisHub">
<code class="descclassname">template_gen.</code><code class="descname">from_SeisHub</code><span class="sig-paren">(</span><em>catalog</em>, <em>url</em>, <em>lowcut</em>, <em>highcut</em>, <em>samp_rate</em>, <em>filt_order</em>, <em>length</em>, <em>prepick</em>, <em>swin</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#from_SeisHub"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen.from_SeisHub" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate templates from a SeisHub database.Must be given an
obspy.Catalog class and the SeisHub url as input. The function returns a
list of obspy.Stream classes containting steams for each desired template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>catalog</strong> (<em>obspy.Catalog</em>) &#8211; Catalog class containing desired template events</li>
<li><strong>url</strong> (<em>class: string</em>) &#8211; url of SeisHub database instance</li>
<li><strong>lowcut</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Low cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>lowcut</strong> &#8211; High cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; New sampling rate in Hz, if set to None will look intemplate defaults file</li>
<li><strong>filt_order</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Filter level, if set to None will look intemplate defaults file</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Extract length in seconds, if None will look in templatedefaults file.</li>
<li><strong>prepick</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Pre-pick time in seconds</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Either &#8216;all&#8217;, &#8216;P&#8217; or &#8216;S&#8217;, to select which phases to output.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Level of debugging output, higher=more</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="template_gen.from_contbase">
<code class="descclassname">template_gen.</code><code class="descname">from_contbase</code><span class="sig-paren">(</span><em>sfile</em>, <em>contbase_list</em>, <em>lowcut</em>, <em>highcut</em>, <em>samp_rate</em>, <em>filt_order</em>, <em>length</em>, <em>prepick</em>, <em>swin</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#from_contbase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen.from_contbase" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to read in picks from sfile then generate the template fromthe picks within this and the wavefiles from the continous database ofday-long files.  Included is a section to sanity check that the files aredaylong and that they start at the start of the day.  You should ensurethis is the case otherwise this may alter your data if your data aredaylong but the headers are incorrectly set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sfile</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; sfilename must be the path to a seisan nordic type s-file containing waveform and pick information, all other arguments can be numbers save for swin which must be either P, S or all (case-sensitive).</li>
<li><strong>contbase_list</strong> (<em>List of tuple of string</em>) &#8211; List of tuples of the form</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>[&#8216;path&#8217;, &#8216;type&#8217;, &#8216;network&#8217;].  Where path is the path to the continuousdatabase, type is the directory structure, which can be eitherYyyyy/Rjjj.01, which is the standard IRIS Year, julian day structure, or,yyyymmdd which is a single directory for every day.
:type lowcut: float
:param lowcut: Low cut (Hz), if set to None will look in template</p>
<blockquote>
<div>defaults file</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lowcut</strong> &#8211; High cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; New sampling rate in Hz, if set to None will look intemplate defaults file</li>
<li><strong>filt_order</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Filter level, if set to None will look intemplate defaults file</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Extract length in seconds, if None will look in templatedefaults file.</li>
<li><strong>prepick</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Pre-pick time in seconds</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Either &#8216;all&#8217;, &#8216;P&#8217; or &#8216;S&#8217;, to select which phases to output.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Level of debugging output, higher=more</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="template_gen.from_sfile">
<code class="descclassname">template_gen.</code><code class="descname">from_sfile</code><span class="sig-paren">(</span><em>sfile</em>, <em>lowcut</em>, <em>highcut</em>, <em>samp_rate</em>, <em>filt_order</em>, <em>length</em>, <em>swin</em>, <em>debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/template_gen.html#from_sfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#template_gen.from_sfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to read in picks from sfile then generate the template from the
picks within this and the wavefile found in the pick file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sfile</strong> (<a class="reference external" href="https://docs.python.org/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; sfilename must be the</td>
</tr>
</tbody>
</table>
<p>path to a seisan nordic type s-file containing waveform and pickinformation.
:type lowcut: float
:param lowcut: Low cut (Hz), if set to None will look in template</p>
<blockquote>
<div>defaults file</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lowcut</strong> &#8211; High cut (Hz), if set to None will look in templatedefaults file</li>
<li><strong>samp_rate</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; New sampling rate in Hz, if set to None will look intemplate defaults file</li>
<li><strong>filt_order</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Filter level, if set to None will look intemplate defaults file</li>
<li><strong>swin</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Either &#8216;all&#8217;, &#8216;P&#8217; or &#8216;S&#8217;, to select which phases to output.</li>
<li><strong>length</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Extract length in seconds, if None will look in templatedefaults file.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Debug level, higher number=more output.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="core.match_filter.html" class="btn btn-neutral float-right" title="3.3. match_filter">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="core.bright_lights.html" class="btn btn-neutral" title="3.1. bright_lights"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016: Calum John Chamberlain &amp; Chet Hopp.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>